From 06a308f749145298af4c24b494c077aad8ff71ba Mon Sep 17 00:00:00 2001
From: Christian Fries <christian.fries123@gmail.com>
Date: Sun, 20 Mar 2016 11:24:06 +0100
Subject: [PATCH] dont check shared libs

---
 project/cmake/scripts/linux/macros.cmake | 36 --------------------------------
 1 file changed, 36 deletions(-)

diff --git a/project/cmake/scripts/linux/macros.cmake b/project/cmake/scripts/linux/macros.cmake
index 7453a1c..3d7367d 100644
--- a/project/cmake/scripts/linux/macros.cmake
+++ b/project/cmake/scripts/linux/macros.cmake
@@ -39,41 +39,5 @@ function(core_link_library lib wraplib)
 endfunction()
 
 function(find_soname lib)
-  cmake_parse_arguments(arg "REQUIRED" "" "" ${ARGN})
 
-  string(TOLOWER ${lib} liblow)
-  if(${lib}_LDFLAGS)
-    set(link_lib "${${lib}_LDFLAGS}")
-  else()
-    if(IS_ABSOLUTE "${${lib}_LIBRARIES}")
-      set(link_lib "${${lib}_LIBRARIES}")
-    else()
-      set(link_lib -l${${lib}_LIBRARIES})
-    endif()
-  endif()
-  execute_process(COMMAND ${CMAKE_C_COMPILER} -nostdlib -o /dev/null -Wl,-M ${link_lib} 
-                  COMMAND grep LOAD.*${liblow}
-                  ERROR_QUIET
-                  OUTPUT_VARIABLE ${lib}_FILENAME)
-  string(REPLACE "LOAD " "" ${lib}_FILENAME "${${lib}_FILENAME}")
-  string(STRIP "${${lib}_FILENAME}" ${lib}_FILENAME)
-  if(NOT ${lib}_FILENAME)
-    execute_process(COMMAND ${CMAKE_C_COMPILER} -nostdlib -o /dev/null -Wl,-t ${link_lib}
-                    OUTPUT_QUIET
-                    ERROR_VARIABLE _TMP_FILENAME)
-    string(REGEX MATCH ".*lib${liblow}.so" ${lib}_FILENAME ${_TMP_FILENAME})
-  endif()
-  if(${lib}_FILENAME)
-    execute_process(COMMAND objdump -p ${${lib}_FILENAME}
-                    COMMAND grep SONAME.*${liblow}
-                    ERROR_QUIET
-                    OUTPUT_VARIABLE ${lib}_SONAME)
-    string(REPLACE "SONAME " "" ${lib}_SONAME ${${lib}_SONAME})
-    string(STRIP ${${lib}_SONAME} ${lib}_SONAME)
-    message(STATUS "${lib} soname: ${${lib}_SONAME}")
-    set(${lib}_SONAME ${${lib}_SONAME} PARENT_SCOPE)
-  endif()
-  if(arg_REQUIRED AND NOT ${lib}_SONAME)
-    message(FATAL_ERROR "Could not find dynamically loadable library ${lib}")
-  endif()
 endfunction()
-- 
1.9.1

